# ============================================
# BISINDO CNN - Nginx Config (Certbot SSL)
# ============================================
# Phase 1: HTTP only (for initial certbot challenge)
# Phase 2: After cert obtained, switch to default.conf
# ============================================

server {
    listen 80;
    server_name _;

    # Certbot ACME challenge
    location /.well-known/acme-challenge/ {
        root /var/www/certbot;
    }

    # Redirect everything else to HTTPS
    location / {
        return 301 https://$host$request_uri;
    }
}
